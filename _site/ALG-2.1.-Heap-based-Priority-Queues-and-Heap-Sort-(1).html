<!DOCTYPE html>
<html lang="en"><head>
  
  <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
         TeX: {
         equationNumbers: {
             autoNumber: "AMS"
         }
         },
         tex2jax: {
         inlineMath: [ ['$', '$'] ],
         displayMath: [ ['$$', '$$'] ],
         processEscapes: true,
     }
     });
     MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
         alert("Math Processing Error: "+message[1]);
         });
     MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
         alert("Math Processing Error: "+message[1]);
         });
     </script>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>[ALG] 2.1. Heap-based Priority Queues and Heap Sort (1) âœ± Kyuhwan Shim</title>

  <link rel="stylesheet" href="/assets/css/style.css">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Noto+Sans+TC&display=swap" rel="stylesheet">

  <link href="/assets/fontawesome/all.min.css" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>

  <!-- GA -->
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VG8LB4J4EL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VG8LB4J4EL');
</script>


  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/main/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/main/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/main/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/main/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/main/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/main/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/main/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/main/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/main/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/main/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/main/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/main/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/main/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/main/favicon/favicon-16x16.png">
  <link rel="manifest" href="">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/images/main/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- Opengraph -->
  <meta property="og:type" content="website">
  <meta property="og:image" content="/assets/images/main/favicon/og.png%5BALG%5D-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).jpg">
  <meta property="og:title" content="[ALG] 2.1. Heap-based Priority Queues and Heap Sort (1) | Kyuhwan Shim">
  <meta property="og:description" content="Paper overview of  et al., ">

  <!-- Google scholar -->
  
  <meta name="citation_title" content="[ALG] 2.1. Heap-based Priority Queues and Heap Sort (1)">
  
  <meta name="citation_publication_date" content="">
  
  <meta name="citation_conference_title" content="">
  
  <meta name="citation_pdf_url" content="https://underthelights.github.io/assets/pdf/[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).pdf">
  
</head>
<body><header class="page-content">
  <nav class="navbar navbar-expand-md navbar-light py-4">
    <div class="container-fluid">
      <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
        <ul class="navbar-nav ms-auto mt-4 mt-lg-0 navbar-nav-scroll">
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/news">News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/project">Project</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/oconnect">oconnect</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/cv">CV</a>
          </li>
          <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle " data-bs-toggle="dropdown">fun</a>
              <div class="dropdown-menu">
                  <a href="/music" class="dropdown-item">music</a>
                  <a href="/artwork" class="dropdown-item">artwork</a>
              </div>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" target="_blank" rel="noopener noreferrer" href="https://underthelights.github.io/blog/">Blog<i class="fa-regular fa-arrow-up-right-from-square" style="padding-left: 5px;"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<style>
  .dropdown-toggle {
    background-color: transparent;
    border-color: #fff;
    border-style: solid;
    border-top: none;
    border-right: none;
    border-left: none;
    transition: color .15s ease-in-out, background-color .15s ease-in-out,border-color .15s ease-in-out;
  }
  .dropdown-toggle:hover {
    font-weight: 500
  }
  .dropdown:hover .dropdown-menu {
    display: block;
    margin-top: 0;
 }
 .dropdown-menu {
    --bs-dropdown-border-radius: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important
 }
 .dropdown-item {
  font-size: .95rem !important;
  padding: .3rem .75rem !important;
 }
 .dropdown-item:active {
  background-color: #999 !important
 }
</style><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <style>
  /* General styling for all headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Arial', sans-serif;
    /* Use a modern font */
    margin-top: 20px;
    margin-bottom: 10px;
  }
  .post-title {
    font-size: 2em; /* í°íŠ¸ í¬ê¸° ì¦ê°€ */
    font-weight: bold; /* ë³¼ë“œì²´ */
    color: #333; /* ìƒ‰ìƒ ë³€ê²½ */
    /* background-color: #f8f8f8; ë°°ê²½ìƒ‰ ì¶”ê°€ */
    padding: 10px; /* ë°°ê²½ìƒ‰ê³¼ í•¨ê»˜ íŒ¨ë”© ì¶”ê°€ */
    box-shadow: inset 0 -20px 0 #bbb7e8;
    max-width: max-content;
  }

  /* Updated styling for h1 */
  h1 {
    font-size: 1.5em;
    /* Increase font size for main titles */
    color: #333333;
    border-bottom: none;
    /* Remove bottom border */
    padding-bottom: 0;
    /* Adjust padding if needed */
  }

  h2 {
    font-size: 1.2em;
    color: #4a4a4a;
  }

  h3 {
    font-size: 1.1em;
    color: #6a6a6a;
  }

  h4 {
    font-size: 0.75em;
    color: #888888;
  }

  h5 {
    font-size: 0.5em;
    color: #a6a6a6;
  }

  h6 {
    font-size: 1em;
    color: #bcbcbc;
  }

  /* Add some additional styling if needed */
  .post-content {
    line-height: 1.6;
    /* Improve readability */
    color: #333333;
    /* Dark grey color for text */
  }

  /* Styling for the ToC to make it scroll with the page */
  .toc {
    font-size: 1em;
    position: fixed;
    /* Fixed position */
    right: 0;
    /* Align to the right side of the screen */
    top: 50;
    /* Adjust this value as needed based on your header size */
    max-height: 100vh;
    /* Set maximum height to viewport height */
    overflow-y: auto;
    /* Allows scrolling within the ToC if it's too long */
    padding: 20px;
    /* Add some padding */
    background-color: white;
    /* Optional: background color for visibility */
    z-index: 1000;
    /* To ensure it stays on top of other elements */
    width: 250px;
    /* Adjust the width as needed */
  }
</style>



<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="toc">
    <a href="#">&lt;On the Top&gt;</a>
    <ul><li><a href="#a-variety-of-priority-queue-implementations">A Variety of Priority Queue Implementations</a></li><li><a href="#job-scheduling-example-priority-queue">[Job Scheduling Example: Priority Queue]</a><ul><li><a href="#requirement-1">Requirement 1</a></li><li><a href="#requirement-2">Requirement 2</a></li></ul></li><li><a href="#alg-22-pq1-maxmin-heap-1">[ALG] 2.2. PQ1: Max(Min) Heap (1)</a></li></ul>

  </div>

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">[ALG] 2.1. Heap-based Priority Queues and Heap Sort (1)</h1>
    <p class="post-meta"><time class="dt-published" datetime="2022-09-12T00:00:00+09:00" itemprop="datePublished">
        Sep 12, 2022
      </time></p>
    <!-- íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í‘œì‹œ -->
    <div class="post-categories">
      
      <strong><span>ğŸ“š Categories:</span></strong>
      
      <a href="blog-categories-notes">Notes</a>
      
      
    </div>

    <div class="post-tags">
      
      <strong><span>ğŸ·ï¸ Tags:</span></strong>
      
      <a href="blog-tags-algorithm">Algorithm</a>
      
      
    </div>


  </header>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul>
  <li>Heapì´ë¼ëŠ” ê°œë… - ë§¤ìš° ì „ê³µì—ì„œ ì¤‘ìš”í•œ ìë£Œêµ¬ì¡°. ì‹¤ì œë¡œ ì»´í“¨í„° systemì—ì„œ ë©”ëª¨ë¦¬ë¥´ ë‹¤ë£¨ëŠ” ë° ì“°ì´ëŠ” í•µì‹¬ì ì¸ êµ¬ì¡°ì¤‘ í•˜ë‚˜</li>
  <li>Insert, delete : ì›ì†Œë¥¼ ì§‘ì–´ë„£ê³  ë¹¼ê³  - queue</li>
  <li>Push, Pop : ë°ì´í„°ë¥¼ ì§‘ì–´ë„£ì—ˆë‹¤ê°€ ë¹¼ê³  - stack</li>
  <li>dataë¥¼ ë„£ì—ˆë‹¤ê°€ ëºë‹¤ê°€ ì´ëŸ°ê²ƒì„ ë°˜ë³µí•˜ëŠ” ê²ƒë“¤. êµ¬í˜„ì´ ì í•©í•œ stack
    <ul>
      <li>â†’ queue, stackì€ êµ‰ì¥íˆ íŠ¹ì • í˜•íƒœë¥¼ ê°–ëŠ” ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë„£ê³  ë¹¼ëŠ” ì‘ì—…</li>
    </ul>
  </li>
</ul>

<h1 id="a-variety-of-priority-queue-implementations">A Variety of Priority Queue Implementations</h1>

<ul>
  <li>[Priority Queue 1: Max(Min) Heap]</li>
  <li>[Priority Queue 2: Min-Max Heap]</li>
  <li>[Priority Queue 3: Heap and Hashing]</li>
  <li>[Priority Queue 4: Deap]</li>
  <li>[Priority Queue 5: Leftist Tree]</li>
  <li>[Priority Queue 6: Binomial Heap]</li>
  <li>[Priority Queue 7: Fibonacci Heap]</li>
  <li>

    <p><img src="/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/0.png" alt="0" /></p>
  </li>
</ul>

<h1 id="job-scheduling-example-priority-queue">[Job Scheduling Example: Priority Queue]</h1>

<ul>
  <li>Consider the following sequence of requests in an operating system:</li>
  <li>multiprocessingì„ í•  ë•Œ ì—¬ëŸ¬ processê°€ ë„ëŠ”ë°,
    <ul>
      <li>ì˜ˆë¥¼ ë“¤ì–´ ë°”ì´ëŸ¬ìŠ¤ê°€ ì¹¨ì…í–ˆê³  ì´ë¥¼ ë§‰ê¸° ìœ„í•œ processê°€ ì œì¼ ë¨¼ì €</li>
      <li>ì œí•œëœ rsrcë¥¼ ì‹œê°„ ìª¼ê°œê°€ë©° ì“´ë‹¤. cpu ì…ì¥ì—ì„œëŠ” ë‹¤ìŒì— ì‹œê°„ì„ ë‚˜ëˆ„ì–´ processë¥¼ ëŒë¦´ ë†ˆì„ ë‚˜ì™€ë¼ í•˜ì—¬ ì²˜ë¦¬í•´ ì£¼ê³  ê·¸ ë‹¤ìŒ ì¤„ ì„œìˆëŠ” ë†ˆë“¤ ì¤‘ process ë²ˆí˜¸, owner , priorityì¼ ë•Œ ì—¬ëŸ¬ policyë¡œ OSë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li>
    </ul>

    <p><img src="/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/1.png" alt="1" /></p>
  </li>
  <li>data ì €ì¥ì†Œì— ì²˜ë¦¬í•´ë‹¬ë¼ëŠ” ê²ƒì´ ë“¤ì–´ê°€ ìˆê³ , data ì €ì¥ì†Œì— ë“¤ì–´ê°”ë‹¤ ë‚˜ì™”ë‹¤ê°€ ê³„ì†ë°˜ë³µë˜ê³  ìˆë‹¤. ê°€ì¥ ë¨¼ì € ë“¤ì–´ì˜¨ ì• ë¥¼ ê°€ì¥ ë¨¼ì € ì²˜ë¦¬í•´ ì£¼ê³ , OSë§ˆë‹¤ ì¸í„°ë„·ì—ì„œ ë™ì˜ìƒ ë³´ëŠ” processë³´ë‹¤ëŠ” ìš´ì˜ì²´ì œë“¤ì´ ë°”ì´ëŸ¬ìŠ¤ ë° ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ ë“± priority ë†’ì€ processë“¤ì´ ìˆë‹¤.</li>
  <li>dataì €ì¥ì†Œì— elementê°€ ìˆëŠ”ë° priortyë¥¼ ê°€ì§€ê³  ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë†ˆ ë‚˜ì™€, í•˜ëŠ” ê²ƒì´ priority-based
    <ul>
      <li>ê°ê°ì˜ ì›ì†Œë“¤ì´ ë“¤ì–´ê°ˆ ë•Œ ê³„ì† ë“¤ì–´ê°€ê³  ëº„ ë•ŒëŠ” priorityì— ë”°ë¼ ë‚˜ì˜¤ê²Œ í•¨.</li>
      <li>ë°ì´í„° ì €ì¥ :ë‚˜ì˜¬ ë•Œ ìš°ì„ ìˆœìœ„ ì„¤ì •</li>
    </ul>
  </li>
</ul>

<h2 id="requirement-1">Requirement 1</h2>

<ul>
  <li>CPU executes the process with the highest priority first.</li>
  <li>Use a heap structure â€“ a simple max heap :)</li>
  <li>

    <p><img src="/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/2.png" alt="2" /></p>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_process</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">proc_id</span><span class="p">;</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">owner</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">priority</span><span class="p">;</span>
<span class="p">}</span> <span class="n">Process</span><span class="p">;</span>
	
<span class="k">static</span> <span class="n">Process</span> <span class="o">*</span><span class="n">_proc_heap</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">_proc_heap_size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">_proc_heap_ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	
<span class="kt">int</span> <span class="nf">PH_create</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">PH_full</span><span class="p">();</span>
<span class="kt">int</span> <span class="nf">PH_empty</span><span class="p">();</span>
<span class="kt">int</span> <span class="nf">PH_insert</span><span class="p">(</span><span class="n">Process</span> <span class="n">item</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">PH_delete</span><span class="p">(</span><span class="n">Process</span> <span class="o">*</span><span class="n">item</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="requirement-2">Requirement 2</h2>

<ul>
  <li>
    <p>The priority of processes can be modified after they are placed in the priority queue.</p>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="nf">H_change_priority</span><span class="p">(</span><span class="kt">int</span> <span class="n">proc_id</span><span class="p">,</span> <span class="kt">int</span> <span class="n">new_priority</span><span class="p">);</span>
</code></pre></div>    </div>

    <ul>
      <li>This function requires locating a particular process in the heap, but the basic heap operations provide no efficient way to do it.</li>
      <li>Employ an auxiliary data structure such as a hash table that keeps track of the location of each process in the heap structure.</li>
    </ul>
  </li>
  <li>
    <p>Once the two requirements are satisfied, the operating system can process the following basic commands efficiently</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  INSERT  &lt;proc_id&gt;  &lt;owner&gt;  &lt;priority&gt;
  DELETE
  CHANGEPR &lt;proc_id&gt; &lt;new_priority&gt; PRINTHEAP
  END
</code></pre></div>    </div>
  </li>
</ul>

<h1 id="alg-22-pq1-maxmin-heap-1">[ALG] 2.2. PQ1: Max(Min) Heap (1)</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_ref_.Â [Horowitz 5.6.2] [Neapolitan 7.6]


# PQ1: Max(Min) Heap

- Problem
	- The following operations must be performed as mixed in data processing:
		- Store a record with a key in an arbitrary order.
		- Fetch the record with the current largest key.
- A solution
	- &lt;u&gt;Design a&lt;/u&gt;Â &lt;u&gt;**data structure**&lt;/u&gt;Â that offers an efficient implementation of the following operations:
- &lt;u&gt;**Insert an element with an arbitrary key.**&lt;/u&gt;
- &lt;u&gt;**Delete an element with the largest key.**&lt;/u&gt;

	![3](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/3.png)

	- key = priority ì˜ë¯¸
		- ë‘ ê°€ì§€ operationì„ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ìë£Œêµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ì—¬ êµ¬í˜„í•˜ë¼
		- insert, delete ë“± ìš©ì–´ëŠ” ì•Œì•„ì„œ ìƒê°í•˜ë©´ ë  ê²ƒ.
- ë°°ì—´ array ê°€ì§€ê³  êµ¬í˜†í•  ìˆ˜ ìˆëŠ” ë°©ë²•
	- 0, 1, 2, 3. .. ëì—ë‹¤ ê³„ì† ì§‘ì–´ë„£ìœ¼ë©´ ë¨
	- ì œì¼ ëì— ìˆëŠ” ì• ë¥¼ ë³´ë‚´ì£¼ë©´ ëì´ ëœë‹¤.
	- insertí•˜ê³  deleteì˜ ì—°ì‚°ì´ ìˆëŠ”ë°, dataê°€ í˜„ì¬ ë°°ì—´ data ì €ì¥ì†Œì— nê°œ ì›ì†Œê°€ ìˆì„ ë•Œ insert, deleteì˜ ë¹„ìš©ì€
		- insert $O(1)$
		- sequential search â†’ delete $O(n)$
- system ë“¤ì–´ê°€ëŠ” ê²ƒì€ ëŠë ¤ë„ ìƒê´€ ì—†ëŠ”ë° ë‚˜ì˜¬ ë•ŒëŠ” ë¹¨ë¦¬ ë‚˜ì™€ì•¼ í•œë‹¤ê³  í•˜ë©´ arrayê°€ ë” ì¢‹ì„ìˆ˜ë„ ìˆìŒ
	- ì¼ë°˜ì ìœ¼ë¡œ heapì´ ì„±ëŠ¥ì´ ì¢‹ê¸°ëŠ” í•¨

	![4](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/4.png)


	|        | array | array | heap     |
	| ------ | ----- | ----- | -------- |
	| insert | O(1)  | O(n)  | o(log n) |
	| delete | O(n)  | O(1)  | O(log n) |
</code></pre></div></div>

<p>undefined
	# An Array Implementation</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Ref. [Sedgewick 9.2]

	```c
	void PQinit();
	int PQempty();
	void PQinsert(int);
	int PQdelmin();
	void PQdec(int);
	
	#include &lt;stdlib.h&gt;
	static int *pq;
	static int N;
	#define MAX_N 10000;
	
	void PQinit()
	{
	    pq = malloc(MAX_N * sizeof(int));
	    N = 0;
	}
	int PQempty()
	{
	    return N == 0;
	}
	void PQinsert(int v)
	{
	    pq[N++] = v;
	}
	
	int PQdelmin()
	{
	    int j, min = 0;
	    for (j = 1; j &lt; N; j++)
	        if (less(pq[min], pq[j]))
	            min = j;
	    exch(pq[min], pq[N - 1]);
	    return pq[--N];
	}
	
	int less(int i, int j)
	{
	    return **... * *;
	}
	
	void exch(int i, int j)
	{
	    ...
	}
	
	void PQdec(int k)
	{
	    ...
	}
	```

- What will be the worst-case time complexity of each operation?

# Max(Min) Heap: Definitions


![5](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/5.png)

- tree
	- rooted tree
		- ì¼ë°˜ì ì¸ treeì—ì„œ vertexë¥¼ í•˜ë‚˜ ì¡ì•„ ì˜¬ë ¤ root
		- binary - ìµœëŒ€ ë‘ ê°œ ê¹Œì§€ì˜ childë¥¼ ê°€ì§€ëŠ” tree
		- full binary tree : ëª¨ë‘ ë‘ê°œ childë¥¼ ê°–ëŠ” tree
		- complete binary tree : ì œì¼ ëì˜ leaf ëª‡ ê°œë§Œ ë‚ ì•„ê°„ bt
			- pointerless representation
			- ì™¼ìª½ childëŠ” parentì˜ ë‘ ë°°, ì˜¤ë¥¸ìª½ childëŠ” parentì˜ ë‘ ë°° +1
	- a kind of graph
		- connected + acyclic
		- vertex, edge

## Definition 1

- [Horowitz 5.6.2] [Neapolitan 7.6]
- A max(min) heap is a complete binary tree where the key value in each internal node is no smaller(larger) than the key values in its children.

## Definition 2

- A binary tree has the max(min) heap property if and only if
	- The number of nodes of the tree is either 0 or 1, or
	node 0ê°œê±°ë‚˜ 1ê°œë©´ max heap
	- For the tree that has at least two nodes, the key in the root is no smaller(larger) than that in each child and the subtree rooted at the child has the max(min) heap property.
	
	root nodeëŠ” ìì‹ ì˜ childë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì§€ ì•Šë‹¤ (ê°™ê±°ë‚˜ í¬ë‹¤)
	ê·¸ë¦¬ê³  ê°ê°ì˜ childë¥¼ rootìœ¼ë¡œ í•˜ëŠ” subtree.
	- ë‚˜ë‘ ê°™ì´ ìƒê²¼ëŠ”ë° sizeë§Œ ì‘ì€ ê²ƒì˜ ì„±ì§ˆ : recursion ì„±ì§ˆì„ ì˜ ìƒê°í•´ë³´ë©´ ë°‘ìœ¼ë¡œ ë‚´ë ¤ê°€ë©´ ê²°êµ­ ì–´ë–¤ nodeë“  ê±´ì— parentëŠ” childë³´ë‹¤ í¬ë‹¤.
- A &lt;u&gt;max(min) heap&lt;/u&gt; is a complete binary tree that has the &lt;u&gt;max(min) heap property.&lt;/u&gt;
	- max heap : complete BT - max heap propertyë¥¼ ê°–ëŠ”

![6](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/6.png)


### Brainstorming on Max Heap Operations

- Max Heap Example
	- ì„±ì§ˆì„ ì˜ ì´í•´í•  ê²ƒ : ìê¸° ìì‹ ë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë‹ˆê¹Œ 36ì´ ì•„ë‹ˆë¼ 101ì´ì–´ë„ê´œì°®ìŒ
- Deletion Example 1
	- data ì €ì¥ëœ ê²ƒë“¤ ì¤‘ priority/key ì œì¼ í° ê²ƒ ë‚˜ê°. - 103
	- ê³„ì†í•´ì„œ complete BT ìœ ì§€í•˜ë ¤ê³  í•˜ëŠ”ë° ëŒ€ì¥ 103ì´ ë‚˜ê°€ë²„ë¦¼.
	- ì›ë˜ ìˆë˜ ê²ƒë³´ë‹¤ ì›ì†Œ ê°œìˆ˜ê°€ í•˜ë‚˜ ë” ì¤„ì€, heapì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì€ ì–´ë–»ê²Œ ë˜ëŠ”ê°€?

		â†’ ìì‹ë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë‹¤ëŠ” ì„±ì§ˆ : 101ì„, 99ë¥¼ ì˜¬ë¦¬ëŠëƒ ê³ ë¯¼í•˜ë©° 101ì´ ì˜¬ë¼ê°€ë©° ë¹ˆ ê³³ì„ ë‹¤ë¥¸ nodeë“¤ì´ ì±„ì›Œ ì¤Œ.


		max heap propertyê°€ ê¹¨ì§€ê¸° ë•Œë¬¸ì— ì•„ë‹˜. ë¬´ì¡°ê±´ í•˜ë‚˜ì”© ìœ„ë¡œ ì˜¬ë¦¬ëŠ” ê²ƒì€ ì•„ë‹˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŒ. 9ë¥¼ ì˜¬ë¦¬ë©´ ë§¨ ë 13ì€ í•´ê²°í•  ìˆ˜ ì—†ìŒ


	![7](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/7.png)

- Deletion Example 2
	- 13ì„ ì™• ì‹œí‚¤ë©´ í•­ìƒì€ ë¬¸ì œ ìƒê¸°ì§€ ì•ŠìŒ
		- ìš°ì—°íˆ ë°‘ì˜ ì›ì†Œê°€ 13ì¼ ë•ŒëŠ” ë¬¸ì œê°€ ì•ˆìƒê¸°ê² ì§€ë§Œ.
	- childì—ì„œ 101, 99ì¤‘ì— ì´ ë™ë„¤ ì™• í•œë²ˆ í•´ ë³¼ê¹Œ í•˜ê³  ì‚´í´ë³´ëŠ” ê·¸ ìƒí™©ã…‡ìœ¼ë¡œ ë°”ë€Œê²Œ ë¨. 13ì´ ì™• í•´ë³¼ê¹Œ í•˜ëŠ” ìƒí™©ì—ì„œ 101ì„ ì˜¬ë ¤ë³´ëŠ” ìƒí™©ì´ê³  ì™¼ìª½ ì•„ë˜ë¡œ ë‚´ë ¤ê°.
	- ë§ì€ treeì˜ ë¬¸ì œë“¤ì´ recursion ìì²´ë¥¼ ì„œì„œ í™œìš©ê°€ëŠ¥í•¨
	- delete algì˜ ìµœëŒ€ ë¹„ìš©, ì‹œê°„ ë¹„ìš© - ìµœëŒ€ ëª‡ ì¹¸ê¹Œì§€ ë‚´ë ¤ê°€ëŠ”ê°€ (3ì¹¸) - logì ìœ¼ë¡œ ë³´ì—¬ì–— ã…ã…
	- complete btëŠ” ë¨.
	- ê²½ë¡œì— ìˆëŠ” ì• ë“¤ì€ â€˜ë‚´ê°€ ë‚´ childë³´ë‹¤ í¬ë‹¤â€™ë¼ëŠ” heap ì¡°ê±´ì„ ì˜ ì§€ì¼°ìŒ
	- ë‘ childë³´ë‹¤ í° 13 &gt; 9, 6ì˜ í˜•íƒœ - ë‘ childë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë‹¤ëŠ” ì„±ì§ˆì„ ìœ ì§€í•˜ë©° ë‚´ë ¤ì˜´./
- Insertion Example
	- 50ì„ ì§‘ì–´ë„£ì–´ë¼. ê·¸ëŸ¬ë©´ complete bt ë§Œë“¤ì–´ì•¼ í•˜ë‚˜ã…£ nodeë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  100ì„ ì§‘ì–´ë„£ëŠ”ë‹¤.
	- rootê¹Œì§€ì˜ path ê²½ë¡œì— ìˆëŠ” ê´€ê³„ë§Œ ë”°ì§€ë©´ ë¨ :
		- left familyì—ì„œ 100ì´ ìˆê±´ ì—†ê±´ ì•„ë¬´ ìƒê´€ì—†ìŒ (heapì˜ ì •ë¦¬ì— ì˜í•´ì„œ)
		- í˜•ì œ ê´€ê³„ ì¤‘ì—ì„œë„ ìƒê´€ì—†ê³ , ì¤‘ìš”í•œ ê±´ ë¶€ëª¨ì™€ ë‚˜ì˜ ê´€ê³„ì¼ ë¿
		- ê²½ë¡œë¥¼ ì«“ì•„ ì˜¬ë¼ê°€ë©° ë¶€ëª¨ë¥¼ ë³´ê³  ë¶€ëª¨ë³´ë‹¤ í¬ë©´ ìì‹ ì‰ ë¶€ëª¨ê°€ ë¨. (ë¶€ëª¨ë³´ë‹¤ ì‘ìœ¼ë©´ ê·¸ ì‹œì ì—ì„œ ë©ˆì¶¤. ê°™ì€ ë…¼ë¦¬ë¡œ, ê²½ë¡œë¥¼ max heap ì„±ì§ˆì„ ìœ ì§€í•˜ë©´ì„œ ì™”ê³  + ë‚˜ë¨¸ì§€ëŠ” ìœ ì§€ê°€ ë˜ì–´ ìˆê³  â†’ ì•Œê³ ë¦¬ì¦˜ì˜ í•©ë¦¬ì„± ê²€ì¦
		- ìµœì•…ì˜ ê²½ìš° log(n) time

	![8](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/8.png)

- $C = \log_2 n$
- Deletion from a Max Heap
- ref.Â [Horowitz 5.6.2]

	```c
	#define MAX_ELEMENTS 200
	#define HEAP_FULL(n) (n == MAX_ELEMENTS - 1) #define HEAP_EMPTY(n)(!n)
	typedef struct
	{
	    int key;
	    /* other fields */
	} element;
	element heap[MAX_ELEMENTS];
	int n = 0;
	```


	![9](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/9.png)


	$2^c \leq n &lt; 2^{c+1} \rightarrow c \leq log_2 n &lt;c+1$


	```c
	//ìµœëŒ€ íˆí”„ì— ì‚½ì…
	void insert_max_heap(element item, int *n)
	{
	    int i;
	    if (HEAP_FULL(*n))
	    {
	        fprintf(stderr, "the heap is FULL\n");
	        exit(1);
	    }
	    i = ++(*n);
	    while ((i != 1) &amp;&amp; (item.key &gt; heap[i / 2].key))
	    {
	        heap[i] = heap[i / 2];
	        i /= 2;
	    }
	    heap[i] = item;
	}
	
	```


	![10](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/10.png)


	$C \sim log_2n $


	```c
	element delete_max_heap(int *n)
	{
	    int parent, child;
	    element item, temp;
	    if (HEAP_EMPTY(*n))
	    {
	        fprintf(stderr, "The heap is empty\n");
	        exit(EXIT_FAILURE);
	    }
	
	    item = heap[1];
	
	    temp = heap[(*n)--];
	    parent = 1;
	    child = 2;
	    while (child &lt;= *n)
	    {
	
	        if ((child &lt; *n) &amp;&amp; (heap[child].key &gt; heap[child + 1].key))
	            child++;
	        if (temp.key &lt;= heap[child].key)
	            break;
	
	        heap[parent] = heap[child];
	        parent = child;
	        child *= 2;
	    }
	    heap[parent] = temp;
	    return item;
	}
	```


	![11](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/11.png)


	![12](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/12.png)


	$O(\log n)$

- childê°€ ìˆì„ ë•Œê¹Œì§„ ë‚´ë ¤ê°€ì•¼ í•œë‹¤.
	- childê°€ 2ê°œë©´ left , right ì¤‘ í° ê±° ì„ íƒí•´ì„œ ì¤„ì¤„ì¤„ while ë¬¸ì—ì„œ ëˆë‹¤.
- ì¤‘ê°„ê³ ì‚¬ì—ì„œ ë¹ˆì¹¸ ë§¤ê¾¸ê¸° ë¬¸ì œ ê°€ëŠ¥

	child 2ê°œ : 


# Another Heap Implementation (Min Heap)

- _ref_.Â [Sedgewick 9.3]

	```c
	void PQinit(int);
	int PQempty();
	void PQinsert(int);
	int PQdelmin();
	static int *pq;
	static int N;
	void PQinit(int maxN)
	{
	    pq = malloc(maxN * sizeof(int));
	    N = 0;
	}
	
	int PQempty()
	{
	    return N == 0;
	}
	
	void PQinsert(int v)
	{
	    pq[++N] = v;
	    fixUp(pq, N);
	}
	
	Item PQdelmin()
	{
	    exch(pq[1], pq[N]);
	    fixDown(pq, 1, N - 1);
	    return pq[N--];
	}
	
	fixUp(int a[], int k)
	{
	    while (k &gt; 1 &amp;&amp; a[k / 2] &gt; a[k])
	    {
	        exch(a[k], a[k / 2]);
	        k = k / 2;
	    }
	}
	
	fixDown(int a[], int k, int N)
	{
	    int j;
	    while (2 * k &lt;= N)
	    {
	        j = 2 * k;
	        if (j &lt; N &amp;&amp; a[j] &gt; a[j + 1])
	            j++;
	        if (a[k] &lt;= a[j])
	            break;
	        exch(a[k], a[j]);
	        k = j;
	    }
	}
	```

- What will be the worst-case time complexity of each operation?

&gt; ğŸ’¡ sort by comparisoin algorithm. ì›ì†Œ nê°œ ìˆì„ ë•Œ n log n ì†ë„ ë³´ë‹¤ ë¹ ë¥´ê²Œ ë¶ˆê°€ëŠ¥í•˜ë‹¤.


## Comparisons of Priority Queue Implementations


![13](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/13.png)


# Heap Sort


Horowitz 7.7., Neapolitan 7.6

- Method
	1. Convert an input array of n unordered items into a max heap.
	2. Extract the items from the heap one at a time to build an ordered array.
- Sort by comparison : comparisonì„ í†µí•´ ì •ë ¬í•˜ëŠ” ë°©ë²•ì€ input size nì— ëŒ€í•´ì„œ costëŠ” ì•„ë¬´ë¦¬ ì¢‹ì€ ì•Œê³ ë¦¬ì¦˜ì„ ë§Œë“¤ë”ë¼ë„ $O(n \log n)$ë³´ë‹¤ ë” ë¹ ë¥´ê²Œ í•  ìˆ˜ëŠ” ì—†ë‹¤ (optimalì´ë‹¤)
	- ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ì¦ëª…ëœ ë°” ìˆìŒ

	&gt; ğŸ’¡ ì›ì†Œì˜ ê°œìˆ˜ nì— ëŒ€í•´ì„œ ì •ë ¬ì´ ì•ˆëœ ì„ì˜ì˜ ë°°ì—´ì— ëŒ€í•´ì„œ min, max heapì€ ilnear timeì— ì ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ë‘˜ì€ ìœ ìš©í•œ ìë£Œêµ¬ì¡°

- max heap : í¬ê¸°ê°€ ê°™ê±°ë‚˜ í° ìˆœì„œëŒ€ë¡œ ë°ì´í„°ë¥¼ ì •ë ¬í•˜ëŠ” ê²ƒì´ ëª©í‘œì¸ë°, max heap ìƒíƒœì—ì„œëŠ” ì •ë ¬ì€ ì •í™•í•˜ê²ŒëŠ” ì•ˆ ë˜ì–´ìˆëŠ” ì–´ì •ì©¡í•œ ìƒíƒœ. ëŒ€ì¶© ì •ë ¬ì€ ëœ ë“¯í•œë° ì¤‘ê°„ì— ì‚ì­‰í•œ, ì •í™•í•˜ê²Œ ë§ì§€ëŠ” ì•Šì€ ìƒíƒœ.
- unordered dataë¥¼ í¬ê¸° ìˆœì„œëŒ€ë¡œ ì •ë¦¬í•˜ë ¤ê³  í•¨. í•œ ë‹¨ê³„ ì¤‘ê°„ë‹¨ê³„ë¥¼ ê±°ì³ì„œ max heap ìœ¼ë¡œ ë³€ê²½í•œ ë‹¤ìŒ ordered ë‹¨ê³„ë¡œ ë³€í™˜

![14](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/14.png)

- 1ë²ˆ ë‹¨ê³„ì˜ ì‹œê°„ ë³µì¡ë„ - nì´ ê±¸ë¦¬ê³  2ë²ˆì—ì„œ nì´ ê±¸ë ¤ì„œ N log n íƒ€ì„ì˜ ë°ì´í„°ë¥¼ ì •ë ¬í•œë‹¤.
- ì£¼ì–´ì§„ ì •ìˆ˜ë“¤ì„ ë¹„ê°ì†Œ ìˆœì„œ(non-decreasing order)ëŒ€ë¡œ ì •ë ¬í•˜ë¼.
	- nondecreasing â‰  increasing (ë‹¨ì¡°ì¦ê°€ ë“±ì˜ ì°¨ì´)

	```c
	typedef struct
	{
	    int key;
	    /* other fields */
	} element;
	Element list[MAX_SIZE];
	```


	```c
	void heapsort(element list[], int n)
	{
	    /*perform heapsort on the array*/ int i, j;
	    element temp;
	
	    // (1) Make a (max) heap
	    for (i = (n) / 2; i &gt; 0; i--)
	        adjust(list, i, n);
	
	    // (2) Extract items one by one
	    for (i = n - 1; i &gt; 0; i--)
	    {
	        SWAP(list[1], list[i + 1], temp);
	        adjust(list, 1, i);
	    }
	}
	```

	- (1) Make a (max) heap : $O(n)$
	- (2) Extract Items : $O(n \log n)$

â†’ n log n


upper bound eã…šë©´ì„œ operationë“¤ì´ ì—†ì–´ì§€ê³  ë‹¤ í•˜ë©´ ê°ê°ì€ tight upper bound


ì œì¼ í° ê±° ë‚˜ì™€ í•´ì„œ ì§‘ì–´ë„£ì–´ì£¼ê³  n-2ê°œ ëŒ€í•´ì„œ ë˜‘ê°™ì€ê±° ë°˜ë³µí•˜ë‹ˆê¹Œ 


log n-1


ì²˜ìŒì— nê°œ ìˆì—ˆëŠ”ë° ë‚˜ë¨¸ì§€ n-1ê°œì— ëŒ€í•´ì„œ ì–´ë–¤ nodeê°€ leafì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ í™•ì¸


$2^c \leq n &lt; 2^{c+1} \rightarrow c \leq \log_2 n &lt;c+1$


## Make a Max Heap

1. $O(n\log n) \rightarrow O(n\log n)$
	- Make a (max) heap.

		![15](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/15.png)


		![16](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/16.png)


		![17](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/17.png)


		![18](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/18.png)


		![19](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/19.png)


## The `adjust()` function


&gt; ğŸ’¡ ê³¼ê±° ì•Œê³ ë¦¬ì¦˜ ë§Œë“  ì‚¬ëŒì˜ ë…¼ë¦¬ë¥¼ ë¶„ì„í•´ì„œ ì ìš©í•´ë³´ì. ê·¸ëŸ¬ë©´ computatinoal thinking ìƒí™©ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ íŒŒì•…í•˜ë©° ì„±ì¥í•  ìˆ˜ ìˆë‹¤!

- cost : ê°ê°ì— ëŒ€í•´ì„œ í•µì‹¬ì´ ë˜ëŠ” operation
	- rootì—ì„œ ì‹œì‘í•´ì„œ ë‘ childì¤‘ì— í° ê²ƒ (list[child].key &lt;
- ì–´ë–»ê²Œ ìƒê°í–ˆì„ê¹Œ ì¶”ì í•´ë³´ë©´ : â€˜í˜¹ì‹œ ì •ì˜ì— ì˜í•´ì„œ :
	- ì •ì˜ : root nodeëŠ” ë‘ childë³´ë‹¤ ê°™ê±°ë‚˜ í¬ê³ , ê°ê°ì˜ childë¥¼ rootë¡œ í•˜ëŠ” subtreeê°€ max heapì´ë©´ recursiveí•œ max heapì´ êµ¬ì„±ëœë‹¤
	- ë‘ childë¥¼ rootë¡œ í•˜ëŠ” tree
- code

	```c
	void adjust(element list[], int root, int n)
	{
	    int child, rootkey;
	    element temp;
	    temp = list[root];
	    rootkey = list[root].key;
	    child = 2 * root;
	    while (child &lt;= n)
	    {
	        if ((child &lt; n) &amp;&amp; (list[child].key &lt; list[child + 1].key))
	            child++;
	        if (rootkey &gt;= list[child].key)
	            break;
	        else
	        {
	            list[child / 2] = list[child];
	            child *= 2;
	        }
	    }
	    list[child / 2] = temp;
	}
	```


	![20](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/20.png)

	- Executed d times, where d is the depth of the tree with root i â†’ $O(d)$

# Cost of Make-Heap


![21](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/21.png)

- ExecutedÂ d_d_Â times, whereÂ d_d_Â is the depth of the tree with rootÂ i_i_
	- SoÂ $O(d)$Â time
- `Output`: a binary tree T adjusted so that the entire binary tree satisfies the heap property
- `Input`: a binary tree T whose left and right subtrees satisfy the heap property but whose root may not

## Proof of correctness of Heap Construction Algorithm


```c
//make a max heap
for(i =n/2;i&gt;0;i--)
	adjust(list,i,n);
```

- $i = \frac n 2 , \frac n 2 -1, \frac n 2 -2, ... 2, 1$
- Loop Invariant
	- just before each iteration for the for-loop starts, each node numbered i+1, i+2, â€¦ n is the root of a max heap
- Proof of correctness by mathematical Induction
	- base step (base case, basis)
		- when $i = \frac n 2 $ (why?)
	- induction step (inductive step)
		- assume that the loop invariant holds for $i=k(k&lt;\frac n 2)$
		- then it also holds for $i = k-1$
			- $k+1, k+2, ... n \rightarrow k, k+1, k+2, ... n$
			- fact 1 : each child node of node k is a max-heap
			- fact 2 : the `adjust()` function makes the node k a root of max-heap
			- fact 3 : it also preserves the property that the nodes k+1, .. n are roots of max-heaps
- notes
	- when the for-loop terminates, the node 1 is the root of a max-heap

## Extract items one by one.

- ê¼¼ê¼¼íˆ ë”°ì ¸ë³´ë©´ì„œ ì„±ì  ë° ì‹œí—˜ì—ì„œ ê·¸ë™ì•ˆ ê¸°ì¶œ ë¬¸ì œë¥¼ ì˜¬ë¦´ ì˜ˆì •ì¸ë°, ì´ë¥¼ ê°•ì¡°í•˜ëŠ” ì´ìœ ê°€ ë‚˜íƒ€ë‚  ë“¯
- ì œì¼ í° ë†ˆ ë‚˜ì™ˆ í•´ì„œ leafì—ë‹¤ ì§‘ì–´ë„£ê³ ,
	- ë¹„ìš©ì´ n log n : ë§¤ë²ˆ í•´ ì£¼ëŠ” ë¹„ìš©ì„ ìƒê°í•´ë³´ë©´
	- ë§¤ë²ˆ ì œì¼ í° ê²ƒ ë‚˜ì™€ í•´ì„œ ì¤„ì¤„ì¤„ updateë¥¼ ë°˜ë³µí•˜ë‹¤ë³´ë©´ ì œì¼í° ê²ƒ ìˆœì„œëŒ€ë¡œ ìŒ“ì´ê²Œ ë  ê²ƒ.

![22](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/22.png)

- Time Complexity Analysis
	- $2^k \leq 2n2kâ‰¤2n, âˆ’k&lt;âˆ’\log2n$
		- $k &lt; -\log_2 n$
	- thenÂ $2kâˆ’kâˆ’1&lt;2nâˆ’\log2nâˆ’1$

		$2^k -k -1 &lt; 2n - log_2n -1$

	- soÂ $C_{MH} = O(n)$
- $I = -k+ \frac {1 \cdot (2^k-1)}{2-1} = 2^k -k -1I=âˆ’k+2âˆ’11â‹…(2kâˆ’1)=2kâˆ’kâˆ’1$

	$âˆ´ C_{MH} \leq 2^k -k -1$

- $2I= (k-1)2^1 + (k-2)2^2 + (k-3)2^3 + ...+1 \cdot 2^{k-1}$
	- $\rightarrow 2I-1I= -(k-1) + 2^1+ 2^2 + ... + 2^{k-2}$
- $I= (k-1)2^0 + (k-2)2^1 + (k-3)2^2 + ...+1 \cdot 2^{k-2}$
- $C_{MH} \leq (k-1)2^0 + (k-2)2^1 + (k-3)2^2 + ...+1 \cdot 2^{k-2}$

![23](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/23.png)


$2^{k-1} \leq n &lt; 2^k$ â†’ $k-1 \leq \log_2 n &lt; k$


## Complexity of Item Extractions


![24](/assets/img/2022-09-12-[ALG]-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1).md/24.png)


```c
for (int i = n / 2; i &gt; 0; i--)
    adjust(list, i, n);
for (int i = n - 1; i &gt; 0; i--)
{
    SWAP(list[1], list[i + 1], temp);
    adjust(list, 1, i);
}
```

- Heap Sort :Â $C_{MH} +C_{IE} = O(n)+ O(n \log n) = O(n \log n)$
- $C_{IE}
\\=âŒŠ\log (n-1)âŒ‹+âŒŠ\log (n-2)âŒ‹+âŒŠ\log (n-3)âŒ‹...+âŒŠ\log2âŒ‹+âŒŠ\log 1âŒ‹\\ \leq \log2 + \log3 + ...+\log {(n-1)} = \log (n-1)!\\=O((n-1)\log (n-1)) = O(n \log n)\\&lt; \sum_{i=2}^n \log_2 n
\\= O(n \log n)
\\â‰¤log2+log3+...+log(nâˆ’1)\\&lt;âˆ‘i=2n \log 2n\\ =O(n \log n)$
- for a givenÂ $n$, the cost (depth) isÂ $c = âŒŠ\log_2nâŒ‹$
- $O(\log n!) = O(n \log n)$
	- proof

## Heap Sort in C Implementation

- ìƒí™©ì— ë§ê²Œ íŒë‹¨í•˜ì—¬ ì ìš©
	- constant time , log ní•˜ê³ ëŠ” ì—„ì²­ë‚œ ì°¨ì´ê°€ ì¡´ì¬í•˜ëŠ” ì‹œê°„ ë³µì¡ë„
	- 2^20ì´ ë°±ë§Œì¸ë° ê·¸ì— ë¹„ë¡€í•˜ëŠ” ì‹œê°„,

# Priority Queue 2 : Min-Max Heap

- Problem
	- The following operations must be performed as mixed in data processing:
		- Store a record with a key in an arbitrary order.
		- Fetch the record with the current largest key.
		- Fetch the record with the current smallest key.
- A solution
	- Design a data structure that offers the efficient implementation of the following operations (Double-Ended Priority Queue):
		- Insert an element with an arbitrary key.
		- Delete an element with the largest key.
		- Delete an element with the smallest key.
		- â†’ ì–´ë–»ê²Œ í’€ ê²ƒì¸ì§€

O(log n) â†’ 

- ref._ref_.Â [Horowitz 9.1]

---


{êµìœ¡ê³¼ì • ì™¸}


Priority Queue 3: Heap and Hashing


Priority Queue 4: Deap


Priority Queue 5: Leftist Tree


Priority Queue 6: Binomial Heap


Priority Queue 7: Fibonacci Heap
</code></pre></div></div>


  </div><a class="u-url" href="/ALG-2.1.-Heap-based-Priority-Queues-and-Heap-Sort-(1)" hidden></a>
</article>
<script>
  function getTOCNodes(master) {
    var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
    var tocNodes = nodes.filter(function (elem) {
      return elem.tagName == "A";
    });
    return tocNodes;
  }
  function getHeaderNodes(master) {
    var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
    var headerNodes = nodes.filter(function (elem) {
      return elem.tagName == "H1" || elem.tagName == "H2" || elem.tagName == "H3" || elem.tagName == "H4" || elem.tagName == "H5" || elem.tagName == "H6";
    });
    return headerNodes;
  }

  var title = document.getElementsByClassName("post-title")[0];
  var titleY = window.pageYOffset + title.getBoundingClientRect().top;

  var article = document.getElementsByClassName("post-article")[0];
  var articleY = window.pageYOffset + article.getBoundingClientRect().top;

  var toc = document.getElementsByClassName("toc")[0];

  var headerNodes = getHeaderNodes(article);
  var tocNodes = getTOCNodes(toc);

  var before = undefined;

  document.addEventListener('scroll', function (e) {
    if (window.scrollY >= articleY - 60) {
      toc.style.cssText = "position: fixed; top: 60px;";
    }
    else {
      toc.style.cssText = "";
    }

    var current = headerNodes.filter(function (header) {
      var headerY = window.pageYOffset + header.getBoundingClientRect().top;
      return window.scrollY >= headerY - 60;
    });

    if (current.length > 0) {
      current = current[current.length - 1];

      var currentA = tocNodes.filter(function (tocNode) {
        return tocNode.innerHTML == current.innerHTML;
      })

      currentA = currentA[0];
      if (currentA) {
        if (before == undefined) before = currentA;

        if (before != currentA) {
          before.classList.remove("toc-active");
          before = currentA;
        }

        currentA.classList.add("toc-active");
      }
      else {
        if (before)
          before.classList.remove("toc-active");
      }
    }
    else {
      if (before)
        before.classList.remove("toc-active");
    }

  }, false);
</script>
      </div>
    </main><footer>
  <hr style="margin-left: 15px; color: #000 !important; background-color: #000 !important; opacity: 1 !important; width: 40px; height: .5px !important; margin-bottom: 2rem !important;">
  <div class="row m-0">
    <div class="col-12 col-md-3 col-sm-4 mb-4 mb-sm-0">
      <p>
        <a href="https://github.com/underthelights/underthelights.github.io" style="font-weight: 300">Kyuhwan Shim</a>
        <br>Up-to-date as of <span id="date">loading...</span></p>
      <i class="fas fa-location-dot mr-1"></i> Seoul is <img style="width: auto; height: 23px;" id="weather_icon">
      <span id="weather">Loading...</span>
    </div>
    <div class="col-12 col-md-9 col-sm-8">
      <p>
        <a style="font-weight: 300" href="https://linkedin.com/in/kyuhwan-shim"><i class="fab fa-linkedin" style="margin-right: 10.5px"></i>LinkedIn</a><br>
        <a style="font-weight: 300" href="https://fb.com/s.kyuhwn"><i class="fab fa-facebook" style="margin-right: 8px"></i>Facebook</a><br>
        <a style="font-weight: 300" href="https://www.instagram.com/s.kyuhwn"><i class="fab fa-instagram" style="margin-right: 10.5px"></i>Instagram</a><br>
        <a style="font-weight: 300" href="https://github.com/underthelights"><i class="fab fa-github" style="margin-right: 10.5px"></i>GitHub</a><br>
      </p>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

<script src="/assets/js/weather.js"></script>
<script src="/assets/js/github_date.js"></script>
</body>

</html>
